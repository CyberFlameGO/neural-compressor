version: 1.0

model:
  name: "bert-mini"
  framework: "pytorch"

pruning:
  approach:
    weight_compression:
      start_step: 0
      end_step: 0
      excluded_op_names: ["classifier", "pooler", ".*embeddings*", "layer.3.attention.output.dense", "LayerNorm"]
      pruning_op_types: ["Linear"]
      target_sparsity: 0.5
      pruning_frequency: 1000
      max_sparsity_ratio_per_op: 0.98
      pruning_scope: "global"
      sparsity_decay_type: "exp"
      pruners:
        - !Pruner
            pattern: "2:4"
            pruning_frequency: 100
            pruning_scope: "global"
            pruning_type: "snip_momentum"
            sparsity_decay_type: "exp"
